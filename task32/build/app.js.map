{"version":3,"sources":["../js/app.js"],"names":[],"mappings":";;AAAA;AACA;AACA,IAAM,IAAI,SAAJ,CAAI;AAAA,WAAY,SAAS,aAAT,CAAuB,QAAvB,CAAZ;AAAA,CAAV;;AAEA;AACA,IAAM,KAAK,SAAL,EAAK,CAAC,GAAD,EAAM,KAAN,EAAa,EAAb,EAAoB;AAC3B,QAAI,IAAI,gBAAR,EAA0B;AACtB,YAAI,gBAAJ,CAAqB,KAArB,EAA4B,EAA5B,EAAgC,KAAhC;AACH,KAFD,MAEO,IAAI,IAAI,WAAR,EAAqB;AACxB,YAAI,WAAJ,QAAqB,KAArB,EAA8B,EAA9B;AACH,KAFM,MAEA;AACH,mBAAS,KAAT,IAAoB,EAApB;AACH;AACJ,CARD;;AAUA,IAAM,KAAK,EAAE,KAAF,EAAS,OAAT,CAAiB,CAAjB,CAAX;IACO,G,GAAa,EAAE,MAAF,C;IAAR,G,GAAmB,EAAE,MAAF,C;;AAC/B,IAAM,YAAY,CAAC,KAAD,EAAQ,OAAR,EAAiB,QAAjB,EAA2B,MAA3B,CAAlB;;AAEA;AACA,IAAM,SAAS,SAAT,MAAS,CAAC,CAAD,EAAI,CAAJ;AAAA,WAAU,GAAG,IAAH,CAAQ,CAAR,EAAW,KAAX,CAAiB,CAAjB,CAAV;AAAA,CAAf;;AAEA,IAAM,SAAS,SAAT,MAAS;AAAA,WAAQ,IAAI,SAAJ,gBAAR;AAAA,CAAf;AACA,IAAM,WAAW,SAAX,QAAW;AAAA,WAAO,IAAI,SAAJ,GAAgB,EAAvB;AAAA,CAAjB;;AAEA;AACA,IAAM,SAAS,SAAT,MAAS,CAAC,GAAD,EAAM,SAAN;AAAA,WAAoB,IAAI,SAAJ,GAAgB,SAApC;AAAA,CAAf;;AAEA;AACA,IAAM,MAAM;AACR,gBAAY,OAAO,CAAP,EAAU,CAAV,CADJ,EACwB;AAChC,SAAK,CAFG,EAEwB;AAChC,OAAG,CAHK,EAGwB;AAChC,OAAG,CAJK,EAAZ;;AAOA;AACA,IAAM,YAAY,SAAZ,SAAY,MAAO;AACrB,QAAI,GAAJ,GAAU,CAAC,IAAI,GAAJ,GAAU,GAAV,GAAgB,CAAhB,GAAoB,CAApB,GAAwB,IAAI,GAAJ,GAAU,CAAnC,IAAwC,CAAlD;AACA,WAAO,IAAI,UAAX,EAAuB,UAAU,IAAI,GAAd,CAAvB;AACH,CAHD;;AAKA;AACA,IAAM,OAAO,SAAP,IAAO,cAAe;AACxB,WAAO,IAAI,UAAX,EAAuB,EAAvB;AACA,aAAS,IAAI,UAAb;AACA,WAAO,WAAP,EAAoB,UAAU,IAAI,GAAd,CAApB;AACA,WAAO,WAAP;AACA,QAAI,UAAJ,GAAiB,WAAjB;AACH,CAND;;AAQA,IAAM,WAAW,SAAX,QAAW,CAAC,GAAD,EAAM,GAAN,EAAc;AAC3B,QAAG,IAAI,GAAJ,KAAY,CAAf,EAAkB;AAClB,QAAG,IAAI,GAAJ,IAAW,CAAd,EAAiB,IAAI,GAAJ,IAAW,IAAI,GAAJ,IAAW,GAAtB;AACjB,QAAM,cAAc,OAAO,IAAI,CAAX,EAAc,IAAI,CAAlB,CAApB;AACA,SAAK,WAAL;AACH,CALD;;AAOA,IAAM,KAAK,SAAL,EAAK,GAAM;AACb,QAAM,aAAa,IAAI,UAAJ,CAAe,SAAlC;AACA,YAAQ,UAAR;AACI,aAAK,KAAL;AACI,qBAAS,GAAT,EAAc,CAAC,CAAf;AACA;AACJ,aAAK,OAAL;AACI,qBAAS,GAAT,EAAc,CAAd;AACA;AACJ,aAAK,QAAL;AACI,qBAAS,GAAT,EAAc,CAAd;AACA;AACJ,aAAK,MAAL;AACI,qBAAS,GAAT,EAAc,CAAC,CAAf;AACA;AAZR;AAcH,CAhBD;;AAkBA,IAAM,MAAM,SAAN,GAAM,GAAY;AACpB,QAAM,SAAS,IAAI,KAAJ,CAAU,IAAV,GAAiB,WAAjB,GAA+B,OAA/B,CAAuC,IAAvC,EAA6C,EAA7C,CAAf;AACA,YAAQ,MAAR;AACA,aAAK,IAAL;AACI;AACA;AACJ,aAAK,QAAL;AACI,sBAAU,CAAV;AACA;AACJ,aAAK,QAAL;AACI,sBAAU,CAAC,CAAX;AACA;AACJ,aAAK,QAAL;AACI,sBAAU,CAAV;AACA;AACJ;AACI;AAdJ;AAgBH,CAlBD;;AAoBA,OAAO,IAAI,UAAX,EAAuB,MAAvB;AACA,OAAO,IAAI,UAAX;AACA,GAAG,GAAH,EAAQ,OAAR,EAAiB,GAAjB","file":"app.js","sourcesContent":["// import 'babel-polyfill';\n/* 选择器方法*/\nconst $ = selector => document.querySelector(selector);\n\n/* 事件绑定兼容*/\nconst on = (ele, event, fn) => {\n    if (ele.addEventListener) {\n        ele.addEventListener(event, fn, false);\n    } else if (ele.attachEvent) {\n        ele.attachEvent(`on${event}`, fn);\n    } else {\n        ele[`on${event}`] = fn;\n    }\n};\n\nconst tb = $('.tb').tBodies[0];\nconst [txt, btn] = [$('.txt'), $('.btn')];\nconst direction = ['top', 'right', 'bottom', 'left'];\n\n/* 获取当前元素*/\nconst getPos = (x, y) => tb.rows[x].cells[y];\n\nconst setDiv = ele =>  ele.innerHTML = `<div></div>`;\nconst clearDiv = ele => ele.innerHTML = '';\n\n/* 通过类名的方式调整方向*/\nconst setDir = (obj, direction) => obj.className = direction;\n\n/* 默认位置信息*/\nconst pos = {\n    currentEle: getPos(5, 5),       // 当前元素\n    dir: 3,                         // 当前方向\n    x: 5,                           // 当前行号\n    y: 5,                           // 当前列号\n};\n\n/* 调整默认方向*/\nconst changeDir = num => {\n    pos.dir = (pos.dir + num < 0 ? 3 : pos.dir + 1) % 4;\n    setDir(pos.currentEle, direction[pos.dir]);\n};\n\n/* 初始化*/\nconst init = _currentEle => {\n    setDir(pos.currentEle, '');\n    clearDiv(pos.currentEle);\n    setDir(_currentEle, direction[pos.dir]);\n    setDiv(_currentEle);\n    pos.currentEle = _currentEle;\n};\n\nconst goPublic = (str, num) => {\n    if(pos[str] <= 1) return;\n    if(pos[str] > 1) pos[str] = pos[str] + num;\n    const _currentEle = getPos(pos.x, pos.y);\n    init(_currentEle);\n};\n\nconst go = () => {\n    const _className = pos.currentEle.className;\n    switch (_className) {\n        case 'top':\n            goPublic('x', -1);\n            break;\n        case 'right':\n            goPublic('y', 1);\n            break;\n        case 'bottom':\n            goPublic('y', 1);\n            break;\n        case 'left':\n            goPublic('y', -1);\n            break;\n    }\n};\n\nconst run = function () {\n    const txtVal = txt.value.trim().toLowerCase().replace(/\\s/, '');\n    switch (txtVal) {\n    case 'go':\n        go();\n        break;\n    case 'tunlef':\n        changeDir(1);\n        break;\n    case 'tunrig':\n        changeDir(-1);\n        break;\n    case 'tunbak':\n        changeDir(2);\n        break;\n    default:\n        break;\n    }\n};\n\nsetDir(pos.currentEle, 'left');\nsetDiv(pos.currentEle);\non(btn, 'click', run);\n"]}